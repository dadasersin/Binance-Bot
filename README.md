# n8n on Render

This repository contains the configuration files required to deploy [n8n](https://n8n.io/) on [Render](https://render.com/) using Docker and PostgreSQL.

## Deployment Instructions

1. **Fork or Copy this Repository:** Ensure these files are in your own GitHub repository.
2. **Go to Render Dashboard:**
   - Click **New** > **Blueprint**.
   - Connect your GitHub account and select this repository.
3. **Configure the Blueprint:**
   - Provide a name for the Blueprint (e.g., `n8n-stack`).
   - Render will automatically detect the `render.yaml` file and prepare the following resources:
     - **n8n-db:** A PostgreSQL database.
     - **n8n:** A Web Service running the n8n Docker image (Port 10000).
     - **n8n-data:** A persistent disk mounted at `/home/node/.n8n`.
4. **Deploy:** Click **Deploy Blueprint**.
5. **Post-Deployment Configuration (IMPORTANT):**
   - Once the service is live, copy your service URL (e.g., `https://n8n-27s2.onrender.com`).
   - In the Render dashboard for your **n8n web service**, go to **Environment**.
   - Add/Update the following environment variables for better functionality:
     - `WEBHOOK_URL`: Set this to your full service URL (e.g., `https://n8n-27s2.onrender.com/`).
     - `N8N_EDITOR_BASE_URL`: Set this to your full service URL as well.

## Configuration Details

- **Port:** Configured to port `10000` via `N8N_PORT` to match Render's default.
- **Database:** Uses PostgreSQL for reliable data storage.
- **Persistence:** A 1GB persistent disk is used to store binary data and internal n8n files.
- **Encryption Key:** Automatically generated by Render via the `N8N_ENCRYPTION_KEY` environment variable.

## Notes

- **Free Tier:** The default `render.yaml` uses the Free tier. Note that the Free database expires after 90 days, and the web service will spin down after inactivity.
- **Health Check:** Uses `/healthz` to monitor service status.

---
*Prepared for deployment on Render.*
